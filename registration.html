<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>form-v1 by Colorlib</title>
	<!-- Mobile Specific Metas -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<!-- Font-->
	<link rel="stylesheet" type="text/css" href="css/opensans-font.css">
	<link rel="stylesheet" type="text/css" href="fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">
	<!-- Main Style Css -->
    <link rel="stylesheet" href="css/style.css"/>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
</head>
<body>

	<div class="page-content">	
		<div class="form-v1-content">

			<div class="wizard-form">
				<div align="center" style="margin-top: 10px; font-family: nabila"><h2><span class="fa fa-sign-in"> DAFTAR PASIEN BARU</span></h2></div><hr>
		        <form class="form-register" action="#" method="post">
		        	<div id="daftar" style="margin-right: 30px; margin-left: 30px; margin-top: 30px; margin-bottom: 30px">
		        		
		        		<!-- SECTION 1 -->
		        		<!-- <div v-if="form == false" style="margin-top: 30px; margin-left: 30px; margin-bottom: 30px; margin-right: 30px"> -->
			            <section>
			                <div class="inner">
			                	<div class="wizard-header" align="center">
									<h4 class="heading">Account Setting</h4>
									<p>Please enter your desire username and password</p>
								</div>
								<div class="form-row">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Username</legend>
										<input type="text" class="form-control" id="username" placeholder="enter username" required>
										</fieldset>
									</div>
								</div>
								<div class="form-row">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Your Email</legend>
											<input type="text" id="email" class="form-control" pattern="[^@]+@[^@]+.[a-zA-Z]{2,6}" placeholder="example@email.com" required>
										</fieldset>
									</div>
								</div>
								<div class="form-row">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Password</legend>
											<input type="text" class="form-control" id="password" placeholder="your password" required>
										</fieldset>
									</div>
								</div>
								<div class="form-row form-row-date">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Confirm password</legend>
											<input type="text" class="form-control" placeholder="confirm your password" required>
										</fieldset>
									</div>
								</div>
							</div>
			            </section>
			        	
						<!-- </div> -->
			            <!-- SECTION 3 -->
			            <!-- <div v-if="form == true" style="margin-left: 30px; margin-right: 30px; margin-top: 30px; margin-bottom: 30px"> -->
			            <section>
			                <div class="inner">
			                	<div class="wizard-header" align="center">
									<h4 class="heading">Peronal Infomation</h4>
									<p>Please enter your infomation and proceed to the next step so we can build your accounts.  </p>
								</div>
								<div class="form-row">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Your Name</legend>
											<input type="text" class="form-control" id="name" placeholder="Your Name" required>
										</fieldset>
									</div>
								</div>
								<div class="form-row">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Birth date</legend>
											
											<input type="text" id="b_date" class="form-control datepicker" placeholder="your birth date" required>
											
										</fieldset>
									</div>
								</div>
								<div class="form-row">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Age</legend>
											<input type="text" class="form-control" id="age" placeholder="your age" required>
										</fieldset>
									</div>
								</div>
								<div class="form-row">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Address</legend>
											<input type="text" class="form-control" id="address" placeholder="your address" required>
										</fieldset>
									</div>
								</div>
								<div class="form-row">
									<div class="form-holder form-holder-2">
										<fieldset>
											<legend>Phone Number</legend>
											<input type="text" class="form-control" id="phone" placeholder="+1 888-999-7777" required>
										</fieldset>
									</div>
								</div>
								<div align="right">
									<button class="btn btn-info" v-on:click="daftarpasien()"><span class="fa fa-save"> Simpan</span></button>	
									<button class="btn btn-danger" v-on:click="redirect()"><span class="fa fa-home"> Home</span></button>	
								</div>
							</div>
			            </section>
			            <!-- </div> -->
		        	
		        </div>
		        </form>
			</div>
		</div>
	</div>
	<script src="js/vue.js"></script>
	<script src="js/axios.min.js"></script>
	<script src="js/jquery-3.3.1.min.js"></script>
	<script src="js/registration.js"></script>
	<script src="js/bootstrap-datepicker.min.js"></script>
	<script type="text/javascript">
	 $(function(){
	  $(".datepicker").datepicker({
	      format: 'yyyy-mm-dd',
	      autoclose: true,
	      todayHighlight: true,
	  });
	 });
	</script>
	<script>
		var example2 = new Vue({
			el: '#daftar',
			data: {
				items: []
			},
			methods: {
				daftarpasien(){
					var username_p = document.getElementById('username').value
					var email_p = document.getElementById('email').value
					var password_p = document.getElementById('password').value
					var nama_p = document.getElementById('name').value
					var tgllahir_p = document.getElementById('b_date').value
					var umur_p = document.getElementById('age').value
					var alamat_p = document.getElementById('address').value
					var notelp_p = document.getElementById('phone').value

					var self = this
					axios.post('http://localhost:8000/api/post-pasien', {
					    no_pasien: 'PAS004',
					    nama_pasien: nama_p,
					    tgl_lahir: tgllahir_p,
					    usia: umur_p,
					    alamat_pasien: alamat_p,
					    no_hppasien: notelp_p,
					    username: username_p,
					    password: password_p,
					  })
					  .then(function (response) {
					    console.log(response)
					    
					    if (response.data.status == true) {
					    	
					    }else{
					    	alert("Data Gagal Disimpan")
					    }
					  })
					  .catch(function (error) {
					    console.log(error);
					  });
				},
			} 
		})
	</script>
	</script>
</body><!-- This templates was made by Colorlib (https://colorlib.com) -->
</html>